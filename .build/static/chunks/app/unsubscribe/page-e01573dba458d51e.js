(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[669],{2562:function(e,s,t){Promise.resolve().then(t.bind(t,4876))},4876:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var r=t(5444),a=t(9300),n=t(9047),c=t(2690);let i=(0,t(2154).Z)("MailX",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h9",key:"1j9vog"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m17 17 4 4",key:"1b3523"}],["path",{d:"m21 17-4 4",key:"uinynz"}]]);var l=t(1946),u=t(1084);function o(){let e=(0,n.useSearchParams)(),s=e?.get("email")||"",[t,o]=(0,a.useState)(s),[d,m]=(0,a.useState)("idle"),[h,x]=(0,a.useState)(""),b=async e=>{e.preventDefault(),m("loading");try{let e=await fetch("/api/unsubscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}),s=await e.json();s.success?(m("success"),x("You have been unsubscribed.")):(m("error"),x(s.message||"Failed to unsubscribe."))}catch{m("error"),x("Something went wrong.")}};return"success"===d?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4 pt-24",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-gray-800/50 rounded-2xl p-8 text-center border border-gray-700",children:[(0,r.jsx)(c.Z,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Unsubscribed"}),(0,r.jsx)("p",{className:"text-gray-400 mb-6",children:h}),(0,r.jsx)(u.default,{href:"/",className:"text-cyan-400 hover:underline",children:"Return to homepage"})]})}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4 pt-24",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-gray-800/50 rounded-2xl p-8 border border-gray-700",children:[(0,r.jsxs)("div",{className:"text-center mb-6",children:[(0,r.jsx)(i,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Unsubscribe"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Sorry to see you go. Enter your email to unsubscribe from all communications."})]}),(0,r.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,r.jsx)("input",{type:"email",required:!0,value:t,onChange:e=>o(e.target.value),className:"w-full px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg text-white",placeholder:"your@email.com"}),"error"===d&&(0,r.jsx)("p",{className:"text-red-400 text-sm",children:h}),(0,r.jsx)("button",{type:"submit",disabled:"loading"===d,className:"w-full py-3 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg transition-colors flex items-center justify-center gap-2",children:"loading"===d?(0,r.jsx)(l.Z,{className:"w-5 h-5 animate-spin"}):"Unsubscribe"})]})]})})}function d(){return(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)(l.Z,{className:"w-8 h-8 animate-spin text-cyan-400"})}),children:(0,r.jsx)(o,{})})}},2690:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(2154).Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},1946:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(2154).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9047:function(e,s,t){"use strict";var r=t(1206);t.o(r,"useParams")&&t.d(s,{useParams:function(){return r.useParams}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})}},function(e){e.O(0,[475,386,156,744],function(){return e(e.s=2562)}),_N_E=e.O()}]);