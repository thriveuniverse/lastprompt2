(()=>{var e={};e.id=669,e.ids=[669],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},77255:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>d,pages:()=>c,routeModule:()=>p,tree:()=>l}),s(75731),s(14121),s(71363);var r=s(36576),a=s(72007),n=s(21818),i=s.n(n),u=s(88897),o={};for(let e in u)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>u[e]);s.d(t,o);let l=["",{children:["unsubscribe",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,75731)),"/home/ubuntu/last_prompt_marketing/nextjs_space/app/unsubscribe/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,14121)),"/home/ubuntu/last_prompt_marketing/nextjs_space/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,71363,23)),"next/dist/client/components/not-found-error"]}],c=["/home/ubuntu/last_prompt_marketing/nextjs_space/app/unsubscribe/page.tsx"],d="/unsubscribe/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/unsubscribe/page",pathname:"/unsubscribe",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},2987:(e,t,s)=>{Promise.resolve().then(s.bind(s,63286))},63286:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(62901),a=s(24383),n=s(84374),i=s(558);let u=(0,s(71945).Z)("MailX",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h9",key:"1j9vog"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m17 17 4 4",key:"1b3523"}],["path",{d:"m21 17-4 4",key:"uinynz"}]]);var o=s(10333),l=s(62392);function c(){let e=(0,n.useSearchParams)(),t=e?.get("email")||"",[s,c]=(0,a.useState)(t),[d,m]=(0,a.useState)("idle"),[p,x]=(0,a.useState)(""),b=async e=>{e.preventDefault(),m("loading");try{let e=await fetch("/api/unsubscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s})}),t=await e.json();t.success?(m("success"),x("You have been unsubscribed.")):(m("error"),x(t.message||"Failed to unsubscribe."))}catch{m("error"),x("Something went wrong.")}};return"success"===d?r.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 pt-24",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-gray-800/50 rounded-2xl p-8 text-center border border-gray-700",children:[r.jsx(i.Z,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),r.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Unsubscribed"}),r.jsx("p",{className:"text-gray-400 mb-6",children:p}),r.jsx(l.default,{href:"/",className:"text-cyan-400 hover:underline",children:"Return to homepage"})]})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 pt-24",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-gray-800/50 rounded-2xl p-8 border border-gray-700",children:[(0,r.jsxs)("div",{className:"text-center mb-6",children:[r.jsx(u,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Unsubscribe"}),r.jsx("p",{className:"text-gray-400",children:"Sorry to see you go. Enter your email to unsubscribe from all communications."})]}),(0,r.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[r.jsx("input",{type:"email",required:!0,value:s,onChange:e=>c(e.target.value),className:"w-full px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg text-white",placeholder:"your@email.com"}),"error"===d&&r.jsx("p",{className:"text-red-400 text-sm",children:p}),r.jsx("button",{type:"submit",disabled:"loading"===d,className:"w-full py-3 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg transition-colors flex items-center justify-center gap-2",children:"loading"===d?r.jsx(o.Z,{className:"w-5 h-5 animate-spin"}):"Unsubscribe"})]})]})})}function d(){return r.jsx(a.Suspense,{fallback:r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx(o.Z,{className:"w-8 h-8 animate-spin text-cyan-400"})}),children:r.jsx(c,{})})}},558:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(71945).Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},10333:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(71945).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},84374:(e,t,s)=>{"use strict";var r=s(75229);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},75731:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(88895).createProxy)(String.raw`/home/ubuntu/last_prompt_marketing/nextjs_space/app/unsubscribe/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[885,395,851],()=>s(77255));module.exports=r})();