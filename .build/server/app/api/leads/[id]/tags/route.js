"use strict";(()=>{var e={};e.id=425,e.ids=[425],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},30661:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>h,patchFetch:()=>j,requestAsyncStorage:()=>g,routeModule:()=>c,serverHooks:()=>x,staticGenerationAsyncStorage:()=>m});var r={};a.r(r),a.d(r,{DELETE:()=>l,POST:()=>p,dynamic:()=>u});var s=a(79182),n=a(72007),i=a(56719),o=a(93442),d=a(35970);let u="force-dynamic";async function p(e,{params:t}){try{let{tagId:a,tagName:r}=await e.json(),s=a;if(!s&&r){let e=await d._.tag.findUnique({where:{name:r}});s=e?e.id:(await d._.tag.create({data:{name:r}})).id}if(!s)return o.NextResponse.json({message:"Tag ID or name required"},{status:400});let n=await d._.leadTag.create({data:{leadId:t.id,tagId:s},include:{tag:!0}});return o.NextResponse.json(n)}catch(e){if(e?.code==="P2002")return o.NextResponse.json({message:"Tag already added"},{status:400});return console.error("Error adding tag:",e),o.NextResponse.json({message:"Internal server error"},{status:500})}}async function l(e,{params:t}){try{let{tagId:a}=await e.json();return await d._.leadTag.deleteMany({where:{leadId:t.id,tagId:a}}),o.NextResponse.json({success:!0})}catch(e){return console.error("Error removing tag:",e),o.NextResponse.json({message:"Internal server error"},{status:500})}}let c=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/leads/[id]/tags/route",pathname:"/api/leads/[id]/tags",filename:"route",bundlePath:"app/api/leads/[id]/tags/route"},resolvedPagePath:"/home/ubuntu/last_prompt_marketing/nextjs_space/app/api/leads/[id]/tags/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:g,staticGenerationAsyncStorage:m,serverHooks:x}=c,h="/api/leads/[id]/tags/route";function j(){return(0,i.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:m})}},35970:(e,t,a)=>{a.d(t,{_:()=>s});let r=require("@prisma/client"),s=globalThis.prisma??new r.PrismaClient}};var t=require("../../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[885,609],()=>a(30661));module.exports=r})();