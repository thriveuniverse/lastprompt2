"use strict";(()=>{var e={};e.id=877,e.ids=[877],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5774:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>h,patchFetch:()=>x,requestAsyncStorage:()=>c,routeModule:()=>l,serverHooks:()=>g,staticGenerationAsyncStorage:()=>m});var a={};s.r(a),s.d(a,{POST:()=>p,dynamic:()=>d});var r=s(79182),i=s(72007),n=s(56719),o=s(93442),u=s(35970);let d="force-dynamic";async function p(e){try{let{email:t}=await e.json();if(!t)return o.NextResponse.json({success:!1,message:"Email required"},{status:400});if(await u._.dataDeletionRequest.findFirst({where:{email:t,status:{in:["pending","processing"]}}}))return o.NextResponse.json({success:!0,message:"A deletion request for this email is already being processed."});return await u._.dataDeletionRequest.create({data:{email:t,status:"pending"}}),o.NextResponse.json({success:!0,message:"Your deletion request has been submitted. We will process it within 30 days and notify you once complete."})}catch(e){return console.error("Delete data request error:",e),o.NextResponse.json({success:!1,message:"Failed to submit request"},{status:500})}}let l=new r.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/delete-data/route",pathname:"/api/delete-data",filename:"route",bundlePath:"app/api/delete-data/route"},resolvedPagePath:"/home/ubuntu/last_prompt_marketing/nextjs_space/app/api/delete-data/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:c,staticGenerationAsyncStorage:m,serverHooks:g}=l,h="/api/delete-data/route";function x(){return(0,n.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:m})}},35970:(e,t,s)=>{s.d(t,{_:()=>r});let a=require("@prisma/client"),r=globalThis.prisma??new a.PrismaClient}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[885,609],()=>s(5774));module.exports=a})();